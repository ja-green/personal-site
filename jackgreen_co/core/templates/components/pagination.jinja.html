{# Copyright (C) 2024 Jack Green (jackgreen.co)

   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program. If not, see <https://www.gnu.org/licenses/>. #}

{% macro pagination() -%}
{% set class_ = kwargs.pop('class_', '') %}

<nav role="navigation" aria-label="pagination" class="mx-auto flex w-full justify-center mb-6">
    <ul class="flex flex-row items-center gap-1">
        {{ caller() }}
    </ul>
</nav>

<a href="{{ href }}" class="underline underline-offset-4 transition-colors hover:text-foreground/80 {{ class_ }}">{{ text }}</a>
{% endmacro %}

{% macro pagination_previous(href) -%}
{% set class_ = kwargs.pop('class_', '') %}
{% set disabled = kwargs.pop('disabled', false) %}

<li>
    {% if disabled %}
        <span class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors pointer-events-none h-10 px-4 py-2 gap-1 pr-2.5 text-muted-foreground {{ class_ }}" aria-label="Go to next page">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="m15 18-6-6 6-6"></path>
            </svg>
            <span>Previous</span>
        </span>
    {% else %}
        <a href="{{ href }}" rel="prev" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1 pl-2.5 {{ class_ }}" aria-label="Go to previous page">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="m15 18-6-6 6-6"></path>
            </svg>
            <span class="hidden md:inline-flex">Previous</span>
        </a>
    {% endif %}
</li>
{% endmacro %}

{% macro pagination_next(href) -%}
{% set class_ = kwargs.pop('class_', '') %}
{% set disabled = kwargs.pop('disabled', false) %}

<li>
    {% if disabled %}
        <span class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors pointer-events-none h-10 px-4 py-2 gap-1 pr-2.5 text-muted-foreground {{ class_ }}" aria-label="Go to next page">
            <span>Next</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="m9 18 6-6-6-6"></path>
            </svg>
        </span>
    {% else %}
        <a href="{{ href }}" rel="next" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1 pr-2.5 {{ class_ }}" aria-label="Go to next page">
            <span class="hidden md:inline-flex">Next</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="m9 18 6-6-6-6"></path>
            </svg>
        </a>
    {% endif %}
</li>
{% endmacro %}

{% macro pagination_page(text, href) -%}
{% set class_ = kwargs.pop('class_', '') %}
{% set current = kwargs.pop('current', false) %}

<li>
    {% if current %}
        <span aria-current="page" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors pointer-events-none h-10 w-10 bg-accent text-accent-foreground {{ class_ }}">{{ text }}</span>
    {% else %}
        <a href="{{ href }}" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-accent hover:text-accent-foreground h-10 w-10 {{ class_ }}">{{ text }}</a>
    {% endif %}
</li>
{% endmacro %}

{% macro pagination_more() -%}
{% set class_ = kwargs.pop('class_', '') %}

<li>
    <span aria-hidden="true" class="flex h-9 w-9 items-center justify-center {{ class_ }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
            <circle cx="12" cy="12" r="1"></circle>
            <circle cx="19" cy="12" r="1"></circle>
            <circle cx="5" cy="12" r="1"></circle>
        </svg>
        <span class="sr-only">More pages</span>
    </span>
</li>
{% endmacro %}

{# vim: set ft=htmldjango: #}
